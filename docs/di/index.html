<!doctype html>
<html data-n-head-ssr lang="en" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Dependency Injection - Quillstack</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="description" name="description" content=""><meta data-n-head="ssr" name="format-detection" content="telephone=no"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.svg"><link rel="preload" href="/_nuxt/62a60ae.js" as="script"><link rel="preload" href="/_nuxt/94bbb78.js" as="script"><link rel="preload" href="/_nuxt/9e1b6a0.js" as="script"><link rel="preload" href="/_nuxt/44d3294.js" as="script"><link rel="preload" href="/_nuxt/bbe7025.js" as="script"><link rel="preload" href="/_nuxt/786c923.js" as="script"><style data-vue-ssr-id="54b08540:0 581dbee3:0 a57b151a:0">/*! tailwindcss v2.2.11 | MIT License | https://tailwindcss.com*//*! modern-normalize v1.1.0 | MIT License | https://github.com/sindresorhus/modern-normalize */*,::after,::before{box-sizing:border-box}html{-moz-tab-size:4;-o-tab-size:4;tab-size:4}html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}body{font-family:system-ui,-apple-system,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji'}hr{height:0;color:inherit}abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Consolas,'Liberation Mono',Menlo,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}::-moz-focus-inner{border-style:none;padding:0}:-moz-focusring{outline:1px dotted ButtonText}:-moz-ui-invalid{box-shadow:none}legend{padding:0}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}button{background-color:transparent;background-image:none}fieldset{margin:0;padding:0}ol,ul{list-style:none;margin:0;padding:0}html{font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.5}body{font-family:inherit;line-height:inherit}*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:currentColor}hr{border-top-width:1px}img{border-style:solid}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input:-ms-input-placeholder,textarea:-ms-input-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:-moz-focusring{outline:auto}table{border-collapse:collapse}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}.container{width:100%}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}@media (min-width:1536px){.container{max-width:1536px}}.static{position:static}.mx-auto{margin-left:auto;margin-right:auto}.ml-2{margin-left:.5rem}.mr-6{margin-right:1.5rem}.mt-5{margin-top:1.25rem}.mb-8{margin-bottom:2rem}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.table{display:table}.hidden{display:none}.w-\[30px\]{width:30px}.list-disc{list-style-type:disc}.bg-pink-900{--tw-bg-opacity:1;background-color:rgba(131,24,67,var(--tw-bg-opacity))}.bg-green-800{--tw-bg-opacity:1;background-color:rgba(6,95,70,var(--tw-bg-opacity))}.bg-image-di{background-image:url(/_nuxt/img/di.91863a8.jpg)}.bg-image-index{background-image:url(/_nuxt/img/index.04d1c54.jpg)}.p-10{padding:2.5rem}.px-10{padding-left:2.5rem;padding-right:2.5rem}.pt-1{padding-top:.25rem}.pl-2{padding-left:.5rem}@font-face{font-family:proxima-nova;src:url(/_nuxt/fonts/proxima-nova-normal-700.06f2982.woff2) format("woff2"),url(/_nuxt/fonts/proxima-nova-normal-700.4277e66.woff) format("woff"),url(/_nuxt/fonts/proxima-nova-normal-700.50ad074.otf) format("opentype");font-display:auto;font-style:normal;font-weight:700}@font-face{font-family:proxima-nova;src:url(/_nuxt/fonts/proxima-nova-normal-400.914399e.woff2) format("woff2"),url(/_nuxt/fonts/proxima-nova-normal-400.66cd3df.woff) format("woff"),url(/_nuxt/fonts/proxima-nova-normal-400.246f9cc.otf) format("opentype");font-display:auto;font-style:normal;font-weight:700}@font-face{font-family:verdigris-mvb-pro-big;src:url(/_nuxt/fonts/verdigris-mvb-pro-big.a26acb3.woff2) format("woff2"),url(/_nuxt/fonts/verdigris-mvb-pro-big.b2f57de.woff) format("woff"),url(/_nuxt/fonts/verdigris-mvb-pro-big.bc35489.otf) format("opentype");font-display:auto;font-style:normal;font-weight:400}@font-face{font-family:"Source Code Pro";src:url(/_nuxt/fonts/SourceCodePro-Regular.d782be0.woff2) format("woff2"),url(/_nuxt/fonts/SourceCodePro-Regular.3fbb92c.woff) format("woff"),url(/_nuxt/fonts/SourceCodePro-Regular.70cc7ff.otf) format("opentype");font-display:swap}body{--tw-bg-opacity:1;background-color:rgba(0,0,0,var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(229,231,235,var(--tw-text-opacity))}body main{--tw-bg-opacity:1;background-color:rgba(17,24,39,var(--tw-bg-opacity))}body .center{margin-left:auto;margin-right:auto}@media (min-width:768px){body .center{width:66.666667%}}@media (min-width:1024px){body .center{width:50%}}@media (min-width:1280px){body .center{width:50%}}body .center a{border-bottom-width:1px;border-style:dashed;--tw-text-opacity:1;color:rgba(147,197,253,var(--tw-text-opacity))}body .center a:hover{border-style:solid;--tw-border-opacity:1;border-color:rgba(96,165,250,var(--tw-border-opacity))}body .center a.anchor{font-family:proxima-nova,sans-serif;--tw-text-opacity:1;color:rgba(107,114,128,var(--tw-text-opacity))}body .center a.anchor:hover{border-style:solid;--tw-border-opacity:1;border-color:rgba(156,163,175,var(--tw-border-opacity))}body h1{margin-left:2.5rem;margin-right:2.5rem;margin-bottom:2.5rem;display:inline-block;border-radius:.25rem;border-bottom-width:1px;--tw-border-opacity:1;border-color:rgba(0,0,0,var(--tw-border-opacity));--tw-bg-opacity:1;background-color:rgba(55,65,81,var(--tw-bg-opacity));padding-left:1.5rem;padding-right:1.5rem;padding-top:1rem;padding-bottom:.75rem;text-align:center;font-size:1.875rem;line-height:2.25rem;--tw-text-opacity:1;color:rgba(0,0,0,var(--tw-text-opacity))}@media (min-width:768px){body h1{margin-left:0;margin-right:0}body h1{margin-bottom:1.25rem}body h1{--tw-bg-opacity:1;background-color:rgba(75,85,99,var(--tw-bg-opacity))}body h1{padding-top:.5rem}body h1{padding-bottom:.25rem}body h1{text-align:left}}body h1,body h2{font-family:verdigris-mvb-pro-big,serif}body h2{margin-bottom:.5rem;padding-left:1rem;padding-right:1rem;padding-top:2rem;padding-bottom:.25rem;font-size:2.25rem;line-height:2.5rem;--tw-text-opacity:1;color:rgba(209,213,219,var(--tw-text-opacity))}@media (min-width:768px){body h2{padding-left:0;padding-right:0}}body h3{font-family:verdigris-mvb-pro-big,serif;margin-bottom:.5rem;padding-left:1rem;padding-right:1rem;padding-top:2.5rem;padding-bottom:.25rem;font-size:1.875rem;line-height:2.25rem;--tw-text-opacity:1;color:rgba(156,163,175,var(--tw-text-opacity))}@media (min-width:768px){body h3{padding-left:0;padding-right:0}}body footer{margin-top:5rem;border-top-width:1px;--tw-border-opacity:1;border-color:rgba(31,41,55,var(--tw-border-opacity));--tw-bg-opacity:1;background-color:rgba(0,0,0,var(--tw-bg-opacity));padding-top:1.5rem;padding-bottom:1.5rem;text-align:center;--tw-text-opacity:1;color:rgba(75,85,99,var(--tw-text-opacity))}body .logo{display:flex;border-bottom-width:1px;--tw-border-opacity:1;border-color:rgba(31,41,55,var(--tw-border-opacity));--tw-bg-opacity:1;background-color:rgba(0,0,0,var(--tw-bg-opacity));padding-top:.75rem;padding-bottom:.75rem;padding-left:1.25rem;padding-right:1.25rem;--tw-shadow:0 10px 15px -3px rgba(0, 0, 0, 0.1),0 4px 6px -2px rgba(0, 0, 0, 0.05);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}body .quillstack{font-family:verdigris-mvb-pro-big,serif;padding-top:.25rem;padding-left:.5rem;font-size:1.5rem;line-height:2rem;font-weight:100;--tw-text-opacity:1;color:rgba(156,163,175,var(--tw-text-opacity))}body .intro{background:rgba(0,0,0,.5);border-top-width:1px;border-bottom-width:1px;--tw-border-opacity:1;border-color:rgba(17,24,39,var(--tw-border-opacity));padding-left:1rem;padding-right:1rem;padding-top:1.5rem;padding-bottom:.5rem;--tw-shadow:0 1px 3px 0 rgba(0, 0, 0, 0.1),0 1px 2px 0 rgba(0, 0, 0, 0.06);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}@media (min-width:768px){body .intro{border-radius:.25rem}body .intro{border-width:1px}body .intro{padding-left:2rem;padding-right:2rem}}body .intro p{font-family:verdigris-mvb-pro-big,serif;font-size:1.25rem;line-height:1.75rem;font-style:italic;line-height:2rem;--tw-text-opacity:1;color:rgba(229,231,235,var(--tw-text-opacity));--tw-drop-shadow:drop-shadow(0 1px 1px rgba(0,0,0,0.05));filter:var(--tw-filter)}body hr{margin-top:1.5rem;margin-bottom:1rem;border-style:dashed;--tw-border-opacity:1;border-color:rgba(75,85,99,var(--tw-border-opacity))}body p{padding-left:1rem;padding-right:.5rem;padding-bottom:1.25rem;font-size:1.125rem;line-height:1.75rem;--tw-text-opacity:1;color:rgba(156,163,175,var(--tw-text-opacity))}@media (min-width:768px){body p{padding-left:0;padding-right:0}}body p{font-family:proxima-nova,sans-serif}body p.before-code{padding-bottom:0}body li{font-size:1.125rem;line-height:1.75rem;--tw-text-opacity:1;color:rgba(156,163,175,var(--tw-text-opacity));font-family:proxima-nova,sans-serif}body .toc{margin-bottom:1.25rem;border-top-width:1px;border-bottom-width:1px;border-style:dashed;--tw-border-opacity:1;border-color:rgba(55,65,81,var(--tw-border-opacity));--tw-bg-opacity:1;background-color:rgba(31,41,55,var(--tw-bg-opacity));padding:1.25rem}@media (min-width:768px){body .toc{margin-top:1.25rem}body .toc{border-radius:.25rem}body .toc{border-width:1px}}body div.list ul{list-style-type:decimal;padding-left:1rem;padding-right:1rem;padding-left:1rem}body div.list ul li{padding-left:.5rem;padding-right:.5rem}body div.list ol{list-style-type:disc;padding-left:1rem;padding-right:1rem;padding-left:1rem}body div.list ol li{padding-left:.5rem;padding-right:.5rem}body div.center div.list{padding-left:1.5rem}body div.code{margin-top:2rem;margin-bottom:2rem;width:100%;overflow-x:scroll;border-top-width:1px;--tw-border-opacity:1;border-color:rgba(31,41,55,var(--tw-border-opacity));padding-top:1.5rem;padding-bottom:1.5rem;--tw-shadow:0 10px 15px -3px rgba(0, 0, 0, 0.1),0 4px 6px -2px rgba(0, 0, 0, 0.05);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);background:#2c2c2c}body div.code ul{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}body div.code ul li{white-space:nowrap;font-family:"Source Code Pro",monospace}body div.code ul li span{font-size:.875rem;line-height:1.25rem}body div.code ul span.variable{color:#a09be7}body div.code ul span.keyword{color:#ea5271}body div.code ul span.string{color:#49a078}body div.code ul span.class{color:#79addc}body div.code ul span.char{color:#e9e9e9}body div.code ul span.method{color:#f7c548}body div.hero{height:auto;--tw-bg-opacity:1;background-color:rgba(0,0,0,var(--tw-bg-opacity));background-size:cover;padding-top:2.5rem;padding-bottom:2.5rem;--tw-shadow:0 1px 3px 0 rgba(0, 0, 0, 0.1),0 1px 2px 0 rgba(0, 0, 0, 0.06);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}@media (min-width:768px){body div.hero{margin-bottom:1rem}body div.hero{border-bottom-width:1px}body div.hero{--tw-border-opacity:1;border-color:rgba(31,41,55,var(--tw-border-opacity))}}.nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;transition:width .1s,opacity .4s;background-color:#000;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}</style><link rel="preload" href="/_nuxt/static/1631648168/di/payload.js" as="script"><link rel="preload" href="/_nuxt/static/1631648168/manifest.js" as="script">
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><main><a href="/" class="logo"><div class="center flex"><img src="/_nuxt/img/favicon.1f57192.svg" width="30px" height="30px" class="w-[30px] block"> <div class="quillstack">Quillstack</div></div></a> <div class="bg-image-di hero"><div class="center"><h1 class="bg-pink-900">
                Dependency Injection Container
            </h1> <div class="intro"><p>
                    Quillstack DI is the dependency injection container based on PSR-11: Container interface. The library
                    was built with the main goal: to be fast!
                </p></div></div></div> <div class="center"><div class="toc list"><ul><li><a href="#">
                        What is a DI Container?
                    </a> <ol><li><a href="#">
                                The Repository-Service Pattern
                            </a></li> <li><a href="#">
                                MVC Pattern
                            </a></li></ol></li> <li><a href="#">
                        Installation
                    </a></li> <li><a href="#">
                        Usage
                    </a> <ol><li><a href="#">
                                Simple usage
                            </a></li> <li><a href="#">
                                Dependencies based on interfaces
                            </a></li> <li><a href="#">
                                Dependencies with parameters
                            </a></li> <li><a href="#">
                                Dependencies as objects
                            </a></li></ol></li></ul></div></div> <div class="center"><h2 id="what-is-a-di-container">
            What is the DI Container?
            <a href="#" class="anchor">¶</a></h2> <p class="before-code">
            Every time you need a create a new instance of some class, you use the keyword <em>new</em>, like here:
        </p></div> <div class="code"><ul class="center"><li><span><pre class="inline-block ml-2 mr-6"><span class="variable">$dog</span> <span class="char">=</span> <span class="keyword">new</span> <span class="class">Dog<span class="char">(</span><span class="string">'Alfie'</span><span class="char">)</span><span class="char">;</span></span></pre></span></li></ul></div> <div class="center"><p>
            In our example the string parameter <em>Alfie</em>, which is a lovely name for a dog, is a dependency
            we need to know when we're creating a new <em>Dog</em> object.
        </p> <p>
            Of course our example is very simple. Life brings us more difficult problems to solve.
        </p></div> <hr> <div class="center"><h2 id="repository-service-pattern">
            The Repository-Service Pattern
            <a href="#" class="anchor">¶</a></h2> <p>
            One of the most popular design patterns is the Repository-Service pattern. More complex systems requires layers of abstraction, to keep the code maintainable and easy to understand, learn, and extend. This pattern is a good example of the usage for containers.
        </p> <p>
            The Repository-Service pattern allows you to separate two layers from the rest of you application.
        </p> <p>
            Services provide some business logic and can be used e.g. in Controllers or other Services.
        </p> <p>
            Repositories are the data access layer and can connect e.g. to the database, and should be used only in Services.
        </p> <p class="before-code">
            In that way we can end up with a lot of dependencies, usually injected via constructors:
        </p></div> <div class="code"><ul class="center"><li><span><pre class="inline-block ml-2 mr-6"><span class="variable">$media</span> <span class="char">=</span> <span class="keyword">new</span> <span class="class">MediaService<span class="char">(</span></span></pre></span></li><li><span><pre class="inline-block ml-2 mr-6">    <span class="keyword">new</span> <span class="class">Logger<span class="char">(</span><span class="char">)</span><span class="char">,</span></span> <span class="keyword">new</span> <span class="class">MediaRepository<span class="char">(</span></span></pre></span></li><li><span><pre class="inline-block ml-2 mr-6">        <span class="keyword">new</span> <span class="class">Database<span class="char">(</span><span class="char">)</span><span class="char">,</span></span> <span class="keyword">new</span> <span class="class">Logger<span class="char">(</span><span class="char">)</span></span></pre></span></li><li><span><pre class="inline-block ml-2 mr-6">    <span class="char">)</span></pre></span></li><li><span><pre class="inline-block ml-2 mr-6"><span class="char">)</span><span class="char">;</span></pre></span></li></ul></div> <div class="center"><p>
            Do we want to remember all these classes when we need to have an instance of the Media Service? No!
        </p> <p class="before-code">
            This is a moment when a container helps us to sort it out and change it to this:
        </p></div> <div class="code"><ul class="center"><li><span><pre class="inline-block ml-2 mr-6"><span class="variable">$media</span> <span class="char">=</span> <span class="variable">$container<span class="method"><span class="char">-</span><span class="char">></span>get<span class="char">(</span></span><span class="class">MediaService<span class="char">:</span><span class="char">:</span></span><span class="keyword">class</span><span class="char">)</span><span class="char">;</span></span></pre></span></li></ul></div> <div class="center"><p>
            So much better! And there's no magic. The dependency injection container checks every parameter
            of the given class and create a new instance of required objects. If these classes are dependent
            on other objects, the DI Container also creates them.
        </p> <p>
            The implementation of this kind of library is very often based on recursion.
        </p></div> <hr> <div class="center"><h2 id="mvc-pattern">
            MVC Pattern
            <a href="#" class="anchor">¶</a></h2> <p class="before-code">
            Containers are often used in MVC frameworks. The first initialized class is a Controller,
            where we can inject some dependencies, usually services:
        </p></div> <div class="code"><ul class="center"><li><span><pre class="inline-block ml-2 mr-6"><span class="keyword">new</span> <span class="class">MediaController<span class="char">(</span></span></pre></span></li><li><span><pre class="inline-block ml-2 mr-6">    <span class="keyword">new</span> <span class="class">MediaService<span class="char">(</span></span></pre></span></li><li><span><pre class="inline-block ml-2 mr-6">        <span class="keyword">new</span> <span class="class">Logger<span class="char">(</span><span class="char">)</span><span class="char">,</span></span> <span class="keyword">new</span> <span class="class">MediaRepository<span class="char">(</span></span></pre></span></li><li><span><pre class="inline-block ml-2 mr-6">            <span class="keyword">new</span> <span class="class">Database<span class="char">(</span><span class="char">)</span><span class="char">,</span></span> <span class="keyword">new</span> <span class="class">Logger<span class="char">(</span><span class="char">)</span></span></pre></span></li><li><span><pre class="inline-block ml-2 mr-6">        <span class="char">)</span></pre></span></li><li><span><pre class="inline-block ml-2 mr-6">    <span class="char">)</span></pre></span></li><li><span><pre class="inline-block ml-2 mr-6"><span class="char">)</span><span class="char">;</span></pre></span></li></ul></div> <div class="center"><p class="before-code">
            Without a DI Container our life is hard. We can easily improve it:
        </p></div> <div class="code"><ul class="center"><li><span><pre class="inline-block ml-2 mr-6"><span class="variable">$controller</span> <span class="char">=</span> <span class="variable">$container<span class="method"><span class="char">-</span><span class="char">></span>get<span class="char">(</span></span><span class="class">MediaController<span class="char">:</span><span class="char">:</span></span><span class="keyword">class</span><span class="char">)</span><span class="char">;</span></span></pre></span></li></ul></div> <div class="center"><p>
            All of this work is done by framework for us, so we don't have to worry about it.
        </p></div> <hr> <div class="center"><h2 id="installation">
            Installation
            <a href="#" class="anchor">¶</a></h2> <p class="before-code">
            To install this package, run the standard command using Composer:
        </p></div> <div class="code"><ul class="center"><li><span><pre class="inline-block ml-2 mr-6">composer require quillstack/di</pre></span></li></ul></div> <div class="center"><p>
            The package will be ready to use after that.
        </p></div> <hr> <div class="center"><h2 id="usage">
            Usage
            <a href="#" class="anchor">¶</a></h2> <p>
            You can use Quillstack DI when you want:
        </p> <div class="list"><ol><li>To have a simple and fast DI container.</li> <li>To define dependencies based on interfaces.</li> <li>Define parameters e.g. credentials for a database in Database class.</li></ol></div> <h3 id="simple-usage">
            Simple usage
            <a href="#" class="anchor">¶</a></h3> <p class="before-code">
            You can easily start using a DI Container:
        </p></div> <div class="code"><ul class="center"><li><span><pre class="inline-block ml-2 mr-6"><span class="keyword">&lt;?php</span></pre></span></li><li><span><pre class="inline-block ml-2 mr-6">    </pre></span></li><li><span><pre class="inline-block ml-2 mr-6"><span class="keyword">use</span> <span class="class">Quillstack\DI\Container</span><span class="char">;</span></pre></span></li><li><span><pre class="inline-block ml-2 mr-6">    </pre></span></li><li><span><pre class="inline-block ml-2 mr-6"><span class="keyword">require</span> <span class="variable">__DIR__</span> <span class="char">.</span> <span class="string">'/../vendor/autoload.php'</span><span class="char">;</span></pre></span></li><li><span><pre class="inline-block ml-2 mr-6">    </pre></span></li><li><span><pre class="inline-block ml-2 mr-6"><span class="variable">$container</span> <span class="char">=</span> <span class="keyword">new</span> <span class="class">Container<span class="char">(</span><span class="char">)</span><span class="char">;</span></span></pre></span></li><li><span><pre class="inline-block ml-2 mr-6"><span class="variable">$controller</span> <span class="char">=</span> <span class="variable">$container<span class="method"><span class="char">-</span><span class="char">></span>get<span class="char">(</span></span><span class="class">ExampleController<span class="char">:</span><span class="char">:</span></span><span class="keyword">class</span><span class="char">)</span><span class="char">;</span></span></pre></span></li></ul></div> <div class="center"><p>
            This code creates an instance of the container class. The container creates every class
            with get method, in our case it will be ExampleController.
        </p> <h3 id="dependencies-based-on-interfaces">
            Dependencies based on interfaces
            <a href="#" class="anchor">¶</a></h3> <p class="before-code">
            If you want to define which class should be loaded based on an interface, you can easily do that:
        </p></div> <div class="code"><ul class="center"><li><span><pre class="inline-block ml-2 mr-6"><span class="variable">$container</span> <span class="char">=</span> <span class="keyword">new</span> <span class="class">Container<span class="char">(</span><span class="char">[</span></span></pre></span></li><li><span><pre class="inline-block ml-2 mr-6">    <span class="class">LoggerInterface<span class="char">:</span><span class="char">:</span></span><span class="keyword">class</span> <span class="char">=</span><span class="char">></span> <span class="class">Logger<span class="char">:</span><span class="char">:</span></span><span class="keyword">class</span><span class="char">,</span></pre></span></li><li><span><pre class="inline-block ml-2 mr-6"><span class="char">]</span><span class="char">)</span><span class="char">;</span></pre></span></li></ul></div> <div class="center"><p>
            When you create a new container, you can define a configuration of interfaces and class
            which should be use when these interfaces are called.
        </p> <p>
            In this example everytime when LoggerInterface will be used as a dependency, an object of
            Logger class will be injected.
        </p> <p>
            It's very useful when you want to use an implementation of some interface, but you want to
            keep your code open to changes of this implementation in the future. If you decide to do that,
            you'll have to change just one line.
        </p> <h3 id="dependencies-with-parameters">
            Dependencies with parameters
            <a href="#" class="anchor">¶</a></h3> <p class="before-code">
            If some of your classes require parameters, define them as an array passed on the second
            parameter to the container:
        </p></div> <div class="code"><ul class="center"><li><span><pre class="inline-block ml-2 mr-6"><span class="variable">$container</span> <span class="char">=</span> <span class="keyword">new</span> <span class="class">Container<span class="char">(</span><span class="char">[</span></span></pre></span></li><li><span><pre class="inline-block ml-2 mr-6">    <span class="class">Database<span class="char">:</span><span class="char">:</span></span><span class="keyword">class</span> <span class="char">=</span><span class="char">></span> <span class="char">[</span></pre></span></li><li><span><pre class="inline-block ml-2 mr-6">        <span class="string">'hostname'</span> <span class="char">=</span><span class="char">></span> <span class="string">'localhost'</span><span class="char">,</span></pre></span></li><li><span><pre class="inline-block ml-2 mr-6">    <span class="char">]</span><span class="char">,</span></pre></span></li><li><span><pre class="inline-block ml-2 mr-6"><span class="char">]</span><span class="char">)</span><span class="char">;</span></pre></span></li></ul></div> <div class="center"><p>
            Of course you can take the value of the hostname from the configuration files.
        </p></div> <div class="center"><h3 id="dependencies-as-objects">
            Dependencies as objects
            <a href="#" class="anchor">¶</a></h3> <p class="before-code">
            In this example whenever new class of LoggerInterface will be required as a dependency, a previously
            defined object will be used. This object can be created once in a bootstrap file, and used in the
            entire application:
        </p></div> <div class="code"><ul class="center"><li><span><pre class="inline-block ml-2 mr-6"><span class="variable">$handler</span> <span class="char">=</span> <span class="keyword">new</span> <span class="class">StreamHandler<span class="char">(</span><span class="string">'var/app.log'</span><span class="char">)</span><span class="char">;</span></span></pre></span></li><li><span><pre class="inline-block ml-2 mr-6"><span class="variable">$logger</span> <span class="char">=</span> <span class="keyword">new</span> <span class="class">Logger<span class="char">(</span><span class="string">'name'</span><span class="char">)</span><span class="char">;</span></span></pre></span></li><li><span><pre class="inline-block ml-2 mr-6"><span class="variable">$logger<span class="method"><span class="char">-</span><span class="char">></span>pushHandler<span class="char">(</span></span>$handler<span class="char">)</span><span class="char">;</span></span></pre></span></li><li><span><pre class="inline-block ml-2 mr-6"></pre></span></li><li><span><pre class="inline-block ml-2 mr-6"><span class="variable">$container</span> <span class="char">=</span> <span class="keyword">new</span> <span class="class">Container<span class="char">(</span><span class="char">[</span></span></pre></span></li><li><span><pre class="inline-block ml-2 mr-6">    <span class="class">LoggerInterface<span class="char">:</span><span class="char">:</span></span><span class="keyword">class</span> <span class="char">=</span><span class="char">></span> <span class="variable">$logger<span class="char">,</span></span></pre></span></li><li><span><pre class="inline-block ml-2 mr-6"><span class="char">]</span><span class="char">)</span><span class="char">;</span></pre></span></li></ul></div> <footer><a href="/">
        © 2021 <em>Quillstack</em></a> <div>
        Photo by <a href="https://unsplash.com/@hosseiin" target="_blank">Hossein Hosseini</a></div></footer></main></div></div><script>window.__NUXT__={staticAssetsBase:"/_nuxt/static/1631648168",layout:"default",error:null,serverRendered:!0,routePath:"/di",config:{_app:{basePath:"/",assetsPath:"/_nuxt/",cdnURL:null}}}</script><script src="/_nuxt/62a60ae.js" defer></script><script src="/_nuxt/bbe7025.js" defer></script><script src="/_nuxt/786c923.js" defer></script><script src="/_nuxt/94bbb78.js" defer></script><script src="/_nuxt/9e1b6a0.js" defer></script><script src="/_nuxt/44d3294.js" defer></script>
  </body>
</html>
